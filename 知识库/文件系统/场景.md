#### 压缩文件夹后为何传输速度变快
1. 文件系统的开销
	1. 元数据的开销
		1. 元数据：文件名，文件大小，创建时间，修改时间...
		2. 开销：读取，更新...
	2. 文件的开闭操作
2. IO操作的效率
	1. 连续操作比分散操作小文件快
	2. 减少大量的系统调用
3. 网络传输效率
	1. 包的数量：多个小文件会包含更多的包头部信息
	2. 带宽利用率：减少传输数据量，减少io读写和网络传输时间


#### 读取一个字节的文件是否会导致磁盘io
1. 如果page cache 命中，就不会发生磁盘io
2. 如果没有命中，还要看磁盘本身的缓存
3. 如果所有cache都没有命中才会导致磁盘io

#### 如果发生磁盘io,磁盘io是多大
- Page Cache 是以页为单位的，Linux 页大小一般是 4KB
- 文件系统是以块(block)为单位来管理的。使用 `dumpe2fs` 可以查看，一般一个块默认是 4KB
- 通用块层是~~以段为单位~~（应该也是以块为单位）来处理磁盘 IO 请求的，一个段为一个页或者是页的一部分
- IO 调度程序通过 DMA 方式传输 N 个扇区到内存，扇区一般为 512 字节
- 硬盘也是采用“扇区”的管理和传输数据的

#### write一个字节后何时发起写磁盘io
- 第一种情况，如果write系统调用时，如果发现PageCache中脏页占比太多，超过了dirty_ratio或dirty_bytes，write就必须等待了。
    
- 第二种情况，write写到PageCache就已经返回了。worker内核线程异步运行的时候，再次判断脏页占比，如果超过了dirty_background_ratio或dirty_background_bytes，也发起写回请求。
    
- 第三种情况，这时同样write调用已经返回了。worker内核线程异步运行的时候，虽然系统内脏页一直没有超过dirty_background_ratio或dirty_background_bytes，但是脏页在内存中呆的时间超过dirty_expire_centisecs了，也会发起回写。